<?phpclass Question_model extends MY_Model {	protected $_table = 'qm.question';	protected $primary_key = 'question_id';	function join_criteria()	{		$this->db->join('criteria', 'question.criteria_id = criteria.criteria_id');		return $this;	}	function preview_question($criteria_id)	{		//$this->db->join('criteria', 'question.criteria_id = criteria.criteria_id');		$this->db->where('criteria_id', $criteria_id);		return $this;	}	## with weightage ##	function sort_question_format1($tenant_id)	{		$this->db->where('question_format !=', '');		$this->db->where('question.tenant_id', $tenant_id);		return $this;	}		function sort_tenant($tenant_id)	{		$this->db->where('question.tenant_id', $tenant_id);		return $this;	}	## minor major ##	function sort_question_format2($tenant_id)	{		//$this->db->join('criteria', 'question.criteria_id = criteria.criteria_id');		$this->db->where('question_format !=', 1);		$this->db->where('question_format !=', 2);		$this->db->where('question.tenant_id', $tenant_id);		return $this;	}	## datacom ##	function sort_question_format3()	{		//$this->db->join('criteria', 'question.criteria_id = criteria.criteria_id');		$this->db->where('question_format !=', 1);		$this->db->where('question_format !=', 2);		return $this;	}	function join_criteria_and_question($qm_id,$criteria_id)	{		$this->db->select('*');		$this->db->from('criteria_and_question');		$this->db->join('qm_form', 'criteria_and_question.qm_id = qm_form.qm_id');		$this->db->join('criteria', 'criteria_and_question.criteria_id = criteria.criteria_id');		$this->db->join('question', 'criteria_and_question.question_id = question.question_id');		$this->db->where('qm_form.qm_id', $qm_id);		$this->db->where('criteria.criteria_id', $criteria_id);		//$this->db->order_by('criteria.criteria_title', 'asc');		$query = $this->db->get();		return $query->result();	}	function get_total_row_major($qm_id,$criteria_id)	{		$this->db->select('COUNT(qm.question.question_id) as total_major');		$this->db->from('criteria_and_question');		$this->db->join('qm_form', 'criteria_and_question.qm_id = qm_form.qm_id');		$this->db->join('criteria', 'criteria_and_question.criteria_id = criteria.criteria_id');		$this->db->join('question', 'criteria_and_question.question_id = question.question_id');		$this->db->where('qm_form.qm_id', $qm_id);		//$this->db->where('criteria.criteria_id', $criteria_id);		$this->db->where('question.question_format', '1');		//$this->db->order_by('criteria.criteria_title', 'asc');		$query = $this->db->get();		return $query->result();	}	function get_total_row_minor($qm_id,$criteria_id)	{		$this->db->select('COUNT(qm.question.question_id) as total_minor');		$this->db->from('criteria_and_question');		$this->db->join('qm_form', 'criteria_and_question.qm_id = qm_form.qm_id');		$this->db->join('criteria', 'criteria_and_question.criteria_id = criteria.criteria_id');		$this->db->join('question', 'criteria_and_question.question_id = question.question_id');		$this->db->where('qm_form.qm_id', $qm_id);		//$this->db->where('criteria.criteria_id', $criteria_id);		$this->db->where('question.question_format', '2');		//$this->db->order_by('criteria.criteria_title', 'asc');		$query = $this->db->get();		return $query->result();	}	function get_total_row_cb($qm_id,$criteria_id)	{		$this->db->select('COUNT(qm.question.question_id) as total_cb');		$this->db->from('criteria_and_question');		$this->db->join('qm_form', 'criteria_and_question.qm_id = qm_form.qm_id');		$this->db->join('criteria', 'criteria_and_question.criteria_id = criteria.criteria_id');		$this->db->join('question', 'criteria_and_question.question_id = question.question_id');		$this->db->where('qm_form.qm_id', $qm_id);		//$this->db->where('criteria.criteria_id', $criteria_id);		$this->db->where('question.question_format', '4');		//$this->db->order_by('criteria.criteria_title', 'asc');		$query = $this->db->get();		return $query->result();	}		function get_total_row_cc($qm_id,$criteria_id)	{		$this->db->select('COUNT(qm.question.question_id) as total_cc');		$this->db->from('criteria_and_question');		$this->db->join('qm_form', 'criteria_and_question.qm_id = qm_form.qm_id');		$this->db->join('criteria', 'criteria_and_question.criteria_id = criteria.criteria_id');		$this->db->join('question', 'criteria_and_question.question_id = question.question_id');		$this->db->where('qm_form.qm_id', $qm_id);		//$this->db->where('criteria.criteria_id', $criteria_id);		$this->db->where('question.question_format', '5');		//$this->db->order_by('criteria.criteria_title', 'asc');		$query = $this->db->get();		return $query->result();	}		function get_total_row_nc($qm_id,$criteria_id)	{		$this->db->select('COUNT(qm.question.question_id) as total_nc');		$this->db->from('criteria_and_question');		$this->db->join('qm_form', 'criteria_and_question.qm_id = qm_form.qm_id');		$this->db->join('criteria', 'criteria_and_question.criteria_id = criteria.criteria_id');		$this->db->join('question', 'criteria_and_question.question_id = question.question_id');		$this->db->where('qm_form.qm_id', $qm_id);		//$this->db->where('criteria.criteria_id', $criteria_id);		$this->db->where('question.question_format', '6');		//$this->db->order_by('criteria.criteria_title', 'asc');		$query = $this->db->get();		return $query->result();	}}?>