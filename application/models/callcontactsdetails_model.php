<?phpclass Callcontactsdetails_model extends MY_Model {	protected $_table = 'reportcallcenter.callcontactsdetails';	protected $primary_key = 'id';	function search_list($tenant_id, $searchData=array(), $per_page=null, $current_page=null)	{		if (isset($per_page) && isset($current_page) ){			$this->db->limit($per_page, $current_page);		}		if (isset($searchData['search_start_date'])){			$this->db->where('date(`callcontactsdetails`.`queuetime`) >=  ', $searchData['search_start_date']);		}		if (isset($searchData['search_end_date'])){			$this->db->where('date(`callcontactsdetails`.`queuetime`) <=  ', $searchData['search_end_date']);		}		if (isset($searchData['search_agent'])){			$this->db->where('callcontactsdetails.userid', $searchData['search_agent']);		}		if(isset($searchData['search_ext'])){			$this->db->where('callcontactsdetails.extension', $searchData['search_ext']);		}		if(isset($searchData['search_callerid'])){			$this->db->like('callcontactsdetails.callerid', $searchData['search_callerid']);		}		$this->db->join('callcenter.users', 'callcontactsdetails.userid = users.userid');		//$this->db->join('qm.recordings', 'callcontactsdetails.callid = recordings.unique_id');		$this->db->join('callcenter.callwrapups', 'callcontactsdetails.callid = callwrapups.callid');		$names = array('COMPLETECALLER', 'COMPLETEAGENT');		$this->db->where_in('callcontactsdetails.lastevent', $names);		$this->db->where('users.tenantid', $tenant_id);		$this->db->order_by('callcontactsdetails.queuetime', 'desc');		//var_dump($this->db->last_query());		return $this;	}	function get_callcontactsdetails($unique_id)	{		$this->db->where('callcontactsdetails.callid', $unique_id);		return $this;	}	function report_callcontactsdetails()	{		$this->db->select('callcontactsdetails.callid,callcontactsdetails.queuename',FALSE);		$this->db->from('reportcallcenter.callcontactsdetails');		$query = $this->db->get();		return $query->result();	}}?>